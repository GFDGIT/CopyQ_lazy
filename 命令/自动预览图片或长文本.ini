[Command]
Name=\x81ea\x52a8\x9884\x89c8\x56fe\x7247/\x957f\x6587\x672c
MatchCommand="
    copyq:
    // \x5f00\x542f\x81ea\x52a8\x9884\x89c8
    var auto_preview = true

    if (auto_preview) {

        // \x9884\x89c8\x56fe\x7247
        var preview_image = true
        // \x9884\x89c8\x957f\x6587\x672c\xff0c\x8c03\x6574\x5b57\x6570\x548c\x884c\x6570\x4ee5\x9002\x5e94\x9996\x9009\x9879\x4e2d\x6587\x672c\x7684\x6700\x5927\x9ad8\x5ea6
        var preview_longText = true
        // \x957f\x6587\x672c\x5b57\x6570
        var LongTextCharacters = 100
        // \x957f\x6587\x672c\x884c\x6570
        var LongTextLines = 2

        if (visible()) {
            var format = str(dataFormats())
            var content = str(data(mimeUriList)) || str(data(mimeText))
            if (preview_image && (format.match(/image\\/.*/)
                    || content.match(/^file:.*(png|jpe?g|bmp|svg|gif)$/))
                ||
                preview_longText && (content.length > LongTextCharacters
                    || countLines(content) > LongTextLines)) {
                preview(true)
            } else {
                preview(false)
            }
        }

        function countLines(str) {
            var newLine = str.match(/\\n/g)
            return newLine ? newLine.length + 1 : 1
        }
    }
    "
Command="
    copyq:
    preview(false) || preview(true)"
InMenu=true
Icon=\xf06e
Shortcut=space